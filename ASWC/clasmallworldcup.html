<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Recoil</title>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const gameElement = document.documentElement;

            function enterFullscreen() {
                if (gameElement.requestFullscreen) {
                    gameElement.requestFullscreen();
                } else if (gameElement.webkitRequestFullscreen) {
                    gameElement.webkitRequestFullscreen();
                } else if (gameElement.msRequestFullscreen) {
                    gameElement.msRequestFullscreen();
                } else {
                    console.log("Fullscreen is not supported.");
                }
            }

            // Attach fullscreen activation when clicking anywhere
            document.addEventListener("click", enterFullscreen);
        });
    </script>

    <script src="https://cdn.jsdelivr.net/gh/bubbls/ruffle@a25d711e6294241dd4ad89f5ef65dc6bf34fcb24/offlineclient.js"></script>
    <style type="text/css">
        #button { display:none; }
        .imgb_vis { animation: imgb-animation 7s linear; }
        @keyframes imgb-animation {
            10% { transform: translateX(0); }
            20% { transform: translateX(100px); }
            90% { transform: translateX(100px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>
    <div id="fb-root"></div>

    <script>
        (function(){
            if (window.location.protocol.substr(0, 4) === "file") {
                alert("Exported games won't work until you upload them.");
            }
        })();
    </script>

    <!-- The canvas must be inside a div called c2canvasdiv -->
    <div id="c2canvasdiv" style="width: 1629px; height: 931px; margin-left: 124px; margin-top: 0px;">
        <canvas height="931" id="c2canvas" width="1629"></canvas>
    </div>

    <!-- Pages load faster with scripts at the bottom -->
    <script src="https://cdn.jsdelivr.net/gh/bubbls/ruffle@a25d711e6294241dd4ad89f5ef65dc6bf34fcb24/2.1min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/bubbls/ruffle@a25d711e6294241dd4ad89f5ef65dc6bf34fcb24/runtime.js"></script>

    <script>
        jQuery(document).ready(function () { cr_createRuntime("c2canvas"); });

        function onVisibilityChanged() {
            if (document.hidden || document.mozHidden || document.webkitHidden || document.msHidden)
                cr_setSuspended(true);
            else
                cr_setSuspended(false);
        }

        document.addEventListener("visibilitychange", onVisibilityChanged, false);
        document.addEventListener("mozvisibilitychange", onVisibilityChanged, false);
        document.addEventListener("webkitvisibilitychange", onVisibilityChanged, false);
        document.addEventListener("msvisibilitychange", onVisibilityChanged, false);
    </script>
</body>
</html>
